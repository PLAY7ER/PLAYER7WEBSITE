/* En CodePen podés cargar fuentes con @import */
@import url('https://fonts.googleapis.com/css2?family=Oxanium:wght@300;600;800&display=swap');

:root{
  --bg: #070b14;
  --bg-grad: radial-gradient(1200px 800px at 70% 10%, #0d1530 0%, #070b14 60%, #05070d 100%);
  --fg: #e9f7ff;
  --muted:#a7c0d7;
  --neon: #00f7ff;
  --neon2:#ff00fb;
  --size: clamp(220px, 50vmin, 460px);
  --border: 2px;
  --radius: 16px;

  --text-glow: 0 0 8px var(--neon), 0 0 18px var(--neon);
  --text-glow-bright: 0 0 10px var(--neon), 0 0 26px var(--neon), 0 0 40px var(--neon);
  --text-glow-dim: 0 0 2px rgba(0,247,255,.35), 0 0 8px rgba(0,247,255,.35);

  --edge-glow: 0 0 16px rgba(0,247,255,.6), inset 0 0 18px rgba(0,247,255,.2);
}

/* Flicker durations (caras del cubo) */
.face{ --edgeDur: 3s; --glowDur: 2.4s; --labelDur: 3.6s; }

* { box-sizing: border-box; }
html, body { height: 100%; }
body{
  margin:0;
  font-family: "Oxanium", system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, sans-serif;
  color: var(--fg);
  background: var(--bg);
  background-image: var(--bg-grad);
  display:flex;
  flex-direction:column;
}

.site-header, .site-footer{
  text-align:center;
  padding: 1.25rem 1rem;
}

/* ===== Título con dos letras que bajan la intensidad (blink breve) ===== */
.title{
  margin:0;
  font-size: clamp(1.6rem, 3.5vw, 3rem);
  font-weight: 800;
  letter-spacing: .06em;
  text-shadow: var(--text-glow-bright);
  display: inline-block;
  user-select: none;
}
.title .hit-1, .title .hit-2{
  display: inline-block;
  will-change: opacity, filter, text-shadow;
}
.title .hit-1{
  animation: titleBlinkA 3.4s steps(1, end) infinite;
}
.title .hit-2{
  animation: titleBlinkB 4.1s steps(1, end) infinite .3s; /* leve desfase */
}

/* “Bajón” breve: pasa de muy brillante a tenue y vuelve rápido */
@keyframes titleBlinkA{
  0%, 72%, 75%, 100% {
    opacity: 1; filter: none; text-shadow: var(--text-glow-bright);
  }
  73%, 74% {
    opacity: .22; filter: brightness(.65) saturate(.7); text-shadow: var(--text-glow-dim);
  }
}
@keyframes titleBlinkB{
  0%, 81%, 84%, 100% {
    opacity: 1; filter: none; text-shadow: var(--text-glow-bright);
  }
  82%, 83% {
    opacity: .18; filter: brightness(.6) saturate(.65); text-shadow: var(--text-glow-dim);
  }
}

/* Si el usuario prefiere menos movimiento */
@media (prefers-reduced-motion: reduce){
  .title .hit-1, .title .hit-2{ animation: none; }
}

.subtitle{
  margin:.35rem 0 0;
  font-size: clamp(.95rem, 1.8vw, 1.2rem);
  color: var(--muted);
}

.wrapper{
  flex:1;
  display:grid;
  place-items:center;
  padding: 1.2rem;
}

/* Estructura: cubo + barra lateral */
.stage{
  width: min(96vw, 1100px);
  display: grid;
  grid-template-columns: auto minmax(140px, 180px);
  gap: 1rem 1.25rem;
  align-items: center;
  justify-content: center;
}

.scene{
  position:relative;
  width: var(--size);
  height: var(--size);
  perspective: 1200px;
  perspective-origin: 50% 50%;
}

.cube{
  position:absolute;
  inset:0;
  transform-style: preserve-3d;
  /* Solo eje Y */
  transform: rotateY(0deg);
  transition: transform .06s linear;
}

.face{
  position:absolute;
  width:100%;
  height:100%;
  display:grid;
  place-items:center;
  border: var(--border) solid rgba(0,247,255,.65);
  border-radius: var(--radius);
  background:
    radial-gradient(120% 120% at 50% 50%, rgba(0,247,255,.10) 0%, rgba(0,0,0,.25) 60%, rgba(0,0,0,.55) 100%),
    linear-gradient(135deg, rgba(255,0,251,.08), rgba(0,247,255,.08));
  box-shadow: var(--edge-glow);
  text-decoration:none;
  isolation:isolate;
  overflow:hidden;
  will-change: transform, filter, opacity;

  /* Flicker de las caras */
  animation:
    edgeFlicker var(--edgeDur) steps(20, end) infinite,
    glowJitter var(--glowDur) linear infinite;
}
.face::before{
  /* halo extra que parpadea */
  content: "";
  position:absolute; inset: -2px;
  border-radius: inherit;
  background: conic-gradient(from 0deg, var(--neon), var(--neon2), var(--neon));
  filter: blur(16px);
  opacity:.25;
  z-index:0;
  animation: glowPulse var(--glowDur) linear infinite;
}
.face::after{
  /* etiqueta con flicker */
  content: attr(data-label);
  position:absolute;
  inset:auto 8% 10% 8%;
  padding:.6rem 1rem;
  justify-self:center;
  border-radius: 999px;
  border:1px solid rgba(0,247,255,.6);
  background: rgba(5,12,20,.35);
  backdrop-filter: blur(4px);
  font-weight:700;
  letter-spacing:.06em;
  text-transform: uppercase;
  text-align:center;
  text-shadow: var(--text-glow);
  box-shadow: 0 0 10px var(--neon), 0 0 25px var(--neon);
  z-index:1;
  pointer-events:none;
  animation: labelFlicker var(--labelDur) steps(24, end) infinite;
}

/* Posición de cada cara */
.face--front  { transform: translateZ(calc(var(--size) / 2));                --edgeDur: 3.1s; --glowDur: 2.7s; --labelDur: 3.6s; }
.face--back   { transform: rotateY(180deg) translateZ(calc(var(--size) / 2)); --edgeDur: 2.6s; --glowDur: 2.2s; --labelDur: 3.2s; }
.face--right  { transform: rotateY(90deg)  translateZ(calc(var(--size) / 2)); --edgeDur: 3.4s; --glowDur: 2.9s; --labelDur: 3.9s; }
.face--left   { transform: rotateY(-90deg) translateZ(calc(var(--size) / 2)); --edgeDur: 2.8s; --glowDur: 2.3s; --labelDur: 3.0s; }
.face--top    { transform: rotateX(90deg)  translateZ(calc(var(--size) / 2)); --edgeDur: 3.6s; --glowDur: 3.1s; --labelDur: 4.2s; }
.face--bottom { transform: rotateX(-90deg) translateZ(calc(var(--size) / 2)); --edgeDur: 2.9s; --glowDur: 2.5s; --labelDur: 3.5s; }

/* Panel Coordenadas */
.coords{
  position:absolute;
  left:50%;
  bottom: -2.6rem;
  transform: translateX(-50%);
  background: rgba(8,18,30,.55);
  border:1px solid rgba(0,247,255,.5);
  padding:.45rem .8rem;
  border-radius: 12px;
  box-shadow: 0 0 12px rgba(0,247,255,.35), inset 0 0 10px rgba(0,247,255,.2);
  color: var(--fg);
  font-size:.95rem;
}

/* Controles laterales */
.side-controls{
  display:flex;
  flex-direction: column;
  gap:.6rem;
  align-self: center;
}
.btn{
  appearance:none;
  border:1px solid rgba(0,247,255,.5);
  background: rgba(8,18,30,.5);
  color: var(--fg);
  padding:.55rem .9rem;
  border-radius: 12px;
  font-weight: 700;
  letter-spacing:.03em;
  cursor:pointer;
  box-shadow: 0 0 10px rgba(0,247,255,.25), inset 0 0 10px rgba(0,247,255,.15);
  transition: transform .15s ease, box-shadow .2s ease, border-color .2s ease;
}
.btn:hover{ transform: translateY(-1px); box-shadow: 0 0 18px rgba(0,247,255,.45), inset 0 0 14px rgba(0,247,255,.22);}
.btn:active{ transform: translateY(0); }

.site-footer{
  color: var(--muted);
  text-align:center;
  padding: 1rem;
}

/* Responsive: en pantallas chicas, controles abajo del cubo */
@media (max-width: 720px){
  .stage{
    grid-template-columns: 1fr;
    gap: .75rem;
  }
  .side-controls{
    flex-direction: row;
    justify-content: center;
  }
  .coords{
    bottom: -2.2rem;
    font-size:.9rem;
  }
}

/* =================== Animaciones Flicker (caras) =================== */
@keyframes edgeFlicker {
  0%   { filter: brightness(1) saturate(1); }
  3%   { filter: brightness(0.6) saturate(0.8); }
  6%   { filter: brightness(1.3) saturate(1.2); }
  8%   { filter: brightness(0.75) saturate(0.9); }
  11%  { filter: brightness(1.2) saturate(1.1); }
  13%  { filter: brightness(0.85) saturate(0.95); }
  16%  { filter: brightness(1.35) saturate(1.25); }
  22%  { filter: brightness(1) saturate(1); }
  27%  { filter: brightness(0.7) saturate(0.85); }
  33%  { filter: brightness(1.25) saturate(1.1); }
  48%  { filter: brightness(0.9) saturate(0.95); }
  62%  { filter: brightness(1.4) saturate(1.25); }
  75%  { filter: brightness(0.8) saturate(0.9); }
  86%  { filter: brightness(1.2) saturate(1.1); }
  100% { filter: brightness(1) saturate(1); }
}

@keyframes glowPulse {
  0%   { opacity: .28; }
  7%   { opacity: .06; }
  10%  { opacity: .30; }
  14%  { opacity: .12; }
  18%  { opacity: .34; }
  24%  { opacity: .20; }
  40%  { opacity: .32; }
  58%  { opacity: .10; }
  73%  { opacity: .28; }
  86%  { opacity: .18; }
  100% { opacity: .26; }
}

@keyframes glowJitter {
  0%   { opacity: 1; }
  2%   { opacity: .85; }
  4%   { opacity: 1; }
  7%   { opacity: .75; }
  9%   { opacity: 1; }
  12%  { opacity: .9; }
  14%  { opacity: .65; }
  16%  { opacity: 1; }
  26%  { opacity: .95; }
  38%  { opacity: .7; }
  52%  { opacity: 1; }
  67%  { opacity: .8; }
  83%  { opacity: 1; }
  100% { opacity: 1; }
}

@keyframes labelFlicker {
  0%   { opacity: 1; }
  3%   { opacity: .35; }
  6%   { opacity: 1; }
  9%   { opacity: .15; }
  12%  { opacity: 1; }
  20%  { opacity: .6; }
  24%  { opacity: 1; }
  41%  { opacity: .4; }
  48%  { opacity: 1; }
  66%  { opacity: .3; }
  74%  { opacity: 1; }
  100% { opacity: 1; }
}
/* === Compactar header + acercar el cubo en móviles === */
@media (max-width: 720px){
  /* Menos padding en el encabezado */
  .site-header{
    padding: .6rem 1rem .4rem;
  }

  /* Dejar de centrar verticalmente la escena:
     la alineamos arriba y mantenemos centrado horizontal */
  .wrapper{
    /* coloca el contenido al inicio verticalmente */
    place-content: start;
    /* asegura centrado horizontal del grid item */
    justify-items: center;
    align-items: start;
    /* un poco menos de aire arriba */
    padding-top: .25rem;
  }
}
@media (max-width: 420px){
  :root{
    /* subimos el tamaño mínimo del cubo en teléfonos muy angostos */
    --size: clamp(240px, 56vmin, 460px);
  }
}
/* ===== Compactar espacio en móviles ===== */
@media (max-width: 720px){
  /* 1) No estirar el main a todo el alto */
  .wrapper{
    flex: initial;            /* antes tenía flex:1 */
    place-items: start center;/* arriba y centrado horizontal */
    align-items: start;
    justify-items: center;
    padding-top: .25rem;
  }

  /* 2) Un poco menos de aire en el header */
  .site-header{
    padding: .6rem 1rem .4rem;
    margin-bottom: .25rem;
  }
  .title{ margin: 0; }
  .subtitle{ margin: .15rem 0 0; }

  /* 3) Asegurar que la escena se acomode arriba */
  .stage{ align-self: start; gap: .75rem; }
}
@media (max-width: 420px){
  :root{ --size: clamp(240px, 56vmin, 460px); }
}